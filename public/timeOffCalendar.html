<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="timeOffStyles.css">
		<link rel="stylesheet" href="styles.css">
		<meta charset="UTF-8" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body onload="todays_date(); on_open(); load(); initButtons(); checkPerm()">

	<header>
				<div id="loginArea">
						<a href="login.html" class="loginBtn" id="loginBtn">Login</a>
				</div>
      	<a href="index.html"><img src="ddi_logo.png" class="ddi_logo"></a>
	</header>

	<main align="center">
      	<div style="top: 0; position: -webkit-sticky; position: sticky">
			<div class="navbar">
				<a href="index.html">Main</a>

				<div class="dropdown">
					<button class="dropbtn" id="active">All Employees
						<i class="fa fa-caret-down"></i>
					</button>
					<div class="dropdown-content">
						<a href="timeOffCalendar.html" id="timeOffCalendarLink" class="active">Time Off Calendar</a>
						<a href="https://docs.google.com/forms/d/e/1FAIpQLSeUCMjTwtfYFEi7oQhyRG555l1wqJzu3ibgm4PCpunNWJ9LLQ/viewform" id="purchaseOrdersLink">Purchase Orders</a>
					</div>
				</div>

				<div class="dropdown">
					<button class="dropbtn">Dispatch
						<i class="fa fa-caret-down"></i>
					</button>
					<div class="dropdown-content">
						<a href="jobScheduling.html" id="jobSchedulingCalendarLink">Job Scheduling Calendar</a>
						<a href="dispatchCallIn.html" id="dispatchCallInLink">Dispatch Call-In Form</a>
						<a href="callInHub.html" id="callInListLink">Call-In Hub</a>
					</div>
				</div>

				<div class="dropdown">
					<button class="dropbtn">Rentbiz
						<i class="fa fa-caret-down"></i>
					</button>
					<div class="dropdown-content">
						<a href="https://docs.google.com/forms/d/e/1FAIpQLSecRGVwTR0iOviuFp_V2Fq4AOM4Bf0ewSqygiwQTS4KC5u5Qw/viewform" id="transportingEquipmentLink">Transporting Equipment</a>
					</div>
				</div>

				<div class="dropdown">
					<button class="dropbtn" id='adminstrationDropDown'>Administration
						<i class="fa fa-caret-down"></i>
					</button>
					<div class="dropdown-content">
						<a href="employeeList.html" id="employeeListLink">Employee List</a>
					</div>
				</div>

				<a href="about.html" id="aboutnav">About</a>
			</div>
		</div>

		<div class="header">
			<h1>Time Off Calendar</h1>
		</div>

		<section>
			<br>
			<div class="box unapp">Not Approved</div>
      <div class="box app">Approved</div>
      <br>
		</section>

		<section class="body" id="calendar_container">
			<div id="header2">
				<div id="monthDisplay"></div>
			        <div>
			          	<button id="backButton">Back</button>
			         	<button id="nextButton">Next</button>
			        </div>
				</div>

				<div id="weekdays" align="center">
			        <div>Sunday</div>
			        <div>Monday</div>
			        <div>Tuesday</div>
			        <div>Wednesday</div>
			        <div>Thursday</div>
			        <div>Friday</div>
			        <div>Saturday</div>
      			</div>

      			<div id="calendar"></div>
		</section>

			<div id="deleteEventModal">
      			<h2>Edit Time Off</h2>

            <form id="edit_event_form">

            	<label for="fn">First Name</label>
            	<input type="text" id="fn">
            	<br><br>

            	<label for="ln">Last Name</label>
            	<input type="text" id="ln">
            	<br><br>

              <label for="sd">Start Date</label>
              <input type="date" id="sd">
              <br><br>
              
              <label for="ed">End Date</label>
              <input type="date" id="ed">
              <br><br>

              <label for="sc">Employee to Cover Shit</label>
              <input type="text" id="sc">
              <br><br>
              
              <p><label for="re">Reason For Request</label></p>
              <textarea id="re" rows="4" cols="30"></textarea>
              <br><br>
            </form>

            <button id="approvalBtn">Not Approved</button>
          	<br><br>
            <button id="updateButton">Update</button>
            &nbsp;
            <button id="deleteButton">Delete</button>
            &nbsp;
            <button id="closeButton">Cancel</button>
    		</div>


    		<div id="modalBackDrop"></div>

			<section class="body">
				<h2>Request Time Off</h2>
				<p>To request time off, fill out the form below<br><strong>***REMEMBER: This is a request. A supervisor must approve this before you can take off!***</strong></p>
				<br>
				<div class="timeOffForm">
					<form id="time_off_form">
						<div class="sidebysideBlock">
							<div class="addTimeOffBlock">
								<div class="label">
									<label for="start date">Start Date:</label>
								</div>
								<input type="date" id="start date" class="input">
							</div>
							<div class="addTimeOffBlock">
								<div class="label">
									<label for="end date">End Date:</label>
								</div>
								<input type="date" id="end date" class="input">
							</div>
						</div>	
						<div class="addTimeOffBlock">
							<div class="label">
								<label for="shiftCover">Employee who has agreed to cover your shifts:</label>
							</div>
							<input id="shiftCover" type="text" class="input">
						</div>
						<div class="addTimeOffBlock">
							<div class="label">
								<label for="reason">Reason For Request:</label>
							</div>
							<textarea id="reason" rows="4" cols="50" placeholder="Enter the reason for the time off request. *required" class="input"></textarea>
						</div>
						<div class="submitBlock">
							<input class="submit" type="button" value="Submit" onclick="handle_submission()">
						</div>
					</form>
				</div>
			</section>
		</main>
		
		<script src="https://smtpjs.com/v3/smtp.js"></script>
		<script type="text/javascript" src="timeOffCalendar.js"></script>
		<script type="text/javascript" src="permissions.js"></script>
	</body>
</html>